<template>
  <v-card class="pa-5">
    <v-card-title>Sincronizzazione</v-card-title>
    <v-layout rows wrap class="py-0">
      <!-- <v-flex x12 class="text-xs-center py-0">
                <v-layout rows wrap >
                    <v-flex class="py-0 px-2 ma-0" xs12 v-for="(db, key) in dbStatus" :key="key">
                            <v-icon v-if="synchronized">mdi-database-check</v-icon>
                            <v-icon v-else>mdi-database-remove</v-icon>
                            {{key}}
                    </v-flex>
                </v-layout>
      </v-flex>-->
      <!-- <v-flex xs12 class="dx-toolbar-center mt-5">
                <div>
                    <v-alert dense :value="!synchronized && !synchronizing"  type="warning"  >
                        Sincronizzare gli archivi
                    </v-alert>
                </div>

      </v-flex>-->
      <v-flex xs12>
        <v-textarea clearable v-model="syncLog" label="Log" dense readonly />
      </v-flex>
      <v-flex>
        <v-btn slot="right" @click="syncAll" :disabled="synchronizing" :loading="synchronizing">
          <span>Sincronizza</span>
          <v-icon>mdi-database-sync</v-icon>
        </v-btn>
        <!-- <v-btn slot="right" @click="randomInsert" :disabled="synchronizing" :loading="synchronizing">
          <span>random</span>
          <v-icon>mdi-database-sync</v-icon>
        </v-btn>

        <v-btn slot="right" @click="syncAppuntiDemo"  :disabled="synchronizing" :loading="synchronizing">
          <span>appunti demo</span>
          <v-icon>mdi-database-sync</v-icon>
        </v-btn> -->

      </v-flex>
    </v-layout>
  </v-card>
</template>

<script>
import { mapGetters, mapState, mapActions } from 'vuex'
import Panel from '../Containers/Panel'
import appuntimmJson from '../../storeimp/fixtures/appuntimm.json'

export default {
  components: { Panel },
  methods: {
    ...mapActions('sync', ['syncAll', 'randomInsert']),
    ...mapActions('appuntimm', ['setDemo']),
    syncAppuntiDemo () {
      this.setDemo(appuntimmJson)
    }
  },
  computed: {
    ...mapState('sync', ['synchronizing', 'syncLog'])
  }
}
</script>

<style scoped>
</style>
